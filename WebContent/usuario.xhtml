<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
	<title>CRUD - Usuario</title>
	<!-- Required meta tags -->
	<meta charset="utf-8" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1, shrink-to-fit=no" />

</h:head>
<h:body>
	<!-- Container -->
	<div class="container d-flex justify-content-center mt-5">
		<div class="row justify-content-md-center">
			<div class="col-md-6 col-md-auto login-box">
				<h:messages styleClass="alert alert-danger hmessages" />

				<h4 class="text-center wdi-red font-weight-bold">Cadastro</h4>
				<hr />
				<h:form id="formPrincipal">
					<div class="form-row">
						<h:messages id="messages" infoStyle="color:green"
							warnStyle="color:orange" errorStyle="color:red"
							globalOnly="false" />
						<h:panelGrid id="panelPrincipal" columns="1"
							style="width: 1150px;">
							<h:panelGrid columns="2">

								<h:panelGrid columns="1" class="mr-2 ">
									<h:outputLabel value="Nome: " />
									<h:inputText id="inputNome"
										value="#{usuarioController.usuario.nome}"
										styleClass="form-control form-control-lg pr-5 mr-5" />
								</h:panelGrid>

								<h:panelGrid columns="1" class="mr-2 ">
									<h:outputLabel value="CPF: " />
									<h:inputText id="inputCPF"
										value="#{usuarioController.usuario.cpf}"
										styleClass="form-control form-control-lg pr-5 mr-5" />
								</h:panelGrid>


								<h:panelGrid columns="1" class="mr-2 ">
									<h:outputLabel value="Login: " />
									<h:panelGrid columns="2">
										<h:inputText id="inputLogin"
											value="#{usuarioController.usuario.login}"
											requiredMessage="O campo login não pode ser nulo."
											styleClass="form-control form-control-lg pr-5 mr-5">
											<f:validateRequired />
										</h:inputText>
										<h:message for="inputLogin" style="color:red" />
									</h:panelGrid>
								</h:panelGrid>
							</h:panelGrid>
							<h:panelGrid columns="1">

								<h:panelGrid columns="1" class="mr-2 ">
									<h:outputLabel value="Senha: " />
									<h:inputSecret value="#{usuarioController.usuario.senha}"
										styleClass="form-control form-control-lg pr-5 mr-5"
										maxlength="60" size="60" />
								</h:panelGrid>
							</h:panelGrid>
							<h:panelGrid columns="1">
								<h:panelGrid class="mr-2" columns="1">
									<h:outputLabel value="Perfil: " />
									<h:selectOneMenu value="#{usuarioController.usuario.perfil}"
										styleClass="form-control form-control-lg pr-5 mr-5 "
										style="width: 480px;">
										<f:selectItem itemLabel="Selecione ...." />
										<f:selectItems value="#{usuarioController.listaPerfil}"
											var="perfil" itemLabel="#{perfil.label}"
											itemValue="#{perfil}" />
									</h:selectOneMenu>
								</h:panelGrid>
							</h:panelGrid>
							<h:panelGrid columns="1">
								<h:panelGrid class="mr-2" columns="1">
									<h:outputLabel value="Sexo: " />
									<h:selectOneMenu value="#{usuarioController.usuario.sexo}"
										styleClass="form-control form-control-lg pr-5 mr-5 "
										style="width: 480px;">
										<f:selectItem itemLabel="Selecione ...." />
										<f:selectItems value="#{usuarioController.listaSexo}"
											var="sexo" itemLabel="#{sexo.label}" itemValue="#{sexo}" />
									</h:selectOneMenu>
								</h:panelGrid>
							</h:panelGrid>
							<h:panelGrid columns="1" class="mr-2 ">
								<h:outputLabel value="Salario: " />
								<h:inputText id="inputSalario"
									value="#{usuarioController.usuario.salario}"
									styleClass="form-control form-control-lg pr-5 mr-5" />
							</h:panelGrid>

							<h4 class="text-center wdi-red font-weight-bold">Endereço</h4>

							<h:panelGrid columns="1" class="mr-2 ">
								<h:outputLabel value="Rua: " />
								<h:inputText id="inputRua"
									value="#{usuarioController.usuario.endereco.rua}"
									styleClass="form-control form-control-lg pr-5 mr-5" />
							</h:panelGrid>
							<h:panelGrid columns="1" class="mr-2 ">
								<h:outputLabel value="Numero: " />
								<h:inputText id="inputNumero"
									value="#{usuarioController.usuario.endereco.numero}"
									styleClass="form-control form-control-lg pr-5 mr-5" />
							</h:panelGrid>
							<h:panelGrid columns="1" class="mr-2 ">
								<h:outputLabel value="Bairro: " />
								<h:inputText id="inputBairro"
									value="#{usuarioController.usuario.endereco.bairro}"
									styleClass="form-control form-control-lg pr-5 mr-5" />
							</h:panelGrid>
							<h:panelGrid columns="1" class="mr-2 ">
								<h:outputLabel value="Cidade: " />
								<h:inputText id="inputCidade"
									value="#{usuarioController.usuario.endereco.cidade}"
									styleClass="form-control form-control-lg pr-5 mr-5" />
							</h:panelGrid>
							<h:panelGrid columns="1">
								<h:panelGrid class="mr-2" columns="1">
									<h:outputLabel value="Estado: " />
									<h:selectOneMenu
										value="#{usuarioController.usuario.endereco.estados}"
										styleClass="form-control form-control-lg pr-5 mr-5 "
										style="width: 480px;">
										<f:selectItem itemLabel="Selecione ...." />
										<f:selectItems value="#{usuarioController.listaEstado}"
											var="estado" itemLabel="#{estado.sigla}"
											itemValue="#{estado}" />
									</h:selectOneMenu>
								</h:panelGrid>
							</h:panelGrid>
						</h:panelGrid>
						<h:panelGrid class="text-center" id="panelBotoes" columns="4"
							style="width: 530px;">
							<h:commandButton value="Incluir"
								disabled="#{usuarioController.usuario.id != null}"
								actionListener="#{usuarioController.incluir()}"
								styleClass="btn btn-lg btn-block btn-login mt-4">
								<f:ajax render="formPrincipal" execute="panelPrincipal"
									resetValues="true" />
							</h:commandButton>

							<h:commandButton value="Alterar"
								disabled="#{usuarioController.usuario.id == null}"
								actionListener="#{usuarioController.alterar()}">
								<f:ajax render="formPrincipal messages" execute="formPrincipal" />
							</h:commandButton>

							<h:commandButton value="Excluir"
								disabled="#{usuarioController.usuario.id == null}"
								actionListener="#{usuarioController.excluir()}">
								<f:ajax render="@all" execute="@this" />
							</h:commandButton>

							<h:commandButton value="Limpar"
								action="#{usuarioController.limpar()}">
								<f:ajax
									render="formPrincipal inputNome inputCPF inputLogin inputSalario inputRua inputNumero inputBairro inputCidade"
									execute="@this" resetValues="true" />
							</h:commandButton>
						</h:panelGrid>
					</div>
					<div class="datatable-row">
						<h:panelGrid id="panelDataTable">
							<h:dataTable id="dataTable"
								value="#{usuarioController.listaUsuario}" var="obj"
								styleClass="table" headerClass="table-header"
								rowClasses="table-odd-row, table-even-row">
								<h:column>
									<f:facet name="header">Id</f:facet>
									<h:outputLabel value="#{obj.id}" />
								</h:column>
								<h:column>
									<f:facet name="header">Nome</f:facet>
									<h:commandLink value="#{obj.nome}" style="color: black;"
										actionListener="#{usuarioController.editar(obj)}">
										<f:ajax
											render="formPrincipal:panelPrincipal formPrincipal:panelBotoes"
											execute="formPrincipal:dataTable" />
									</h:commandLink>
								</h:column>
								<h:column>
									<f:facet name="header">CPF</f:facet>
									<h:outputLabel value="#{obj.cpf}" />
								</h:column>
								<h:column>
									<f:facet name="header">Login</f:facet>
									<h:outputLabel value="#{obj.login}" />
								</h:column>
								<h:column>
									<f:facet name="header">Senha</f:facet>
									<h:outputLabel value="#{obj.senha}" />
								</h:column>
								<h:column>
									<f:facet name="header">Perfil</f:facet>
									<h:outputLabel value="#{obj.perfil.label}" />
								</h:column>
								<h:column>
									<f:facet name="header">Sexo</f:facet>
									<h:outputLabel value="#{obj.sexo.label}" />
								</h:column>
								<h:column>
									<f:facet name="header">Salario</f:facet>
									<h:outputLabel value="#{obj.salario}" />
								</h:column>
							</h:dataTable>
						</h:panelGrid>
					</div>
				</h:form>
			</div>
		</div>
	</div>
</h:body>

</html>