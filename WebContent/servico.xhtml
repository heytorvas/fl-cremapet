<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
	<title>CRUD - Servico</title>
	<!-- Required meta tags -->
	<meta charset="utf-8" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1, shrink-to-fit=no" />

</h:head>
<h:body>
	<!-- Container -->
	<div class="container d-flex justify-content-center mt-5">
		<div class="row justify-content-md-center">
			<div class="col-md-6 col-md-auto login-box">
				<h:messages styleClass="alert alert-danger hmessages" />

				<h4 class="text-center wdi-red font-weight-bold">Cadastro</h4>
				<hr />
				<h:form id="formPrincipal">
					<div class="form-row">
						<h:messages id="messages" infoStyle="color:green"
							warnStyle="color:orange" errorStyle="color:red"
							globalOnly="false" />
						<h:panelGrid id="panelPrincipal" columns="1"
							style="width: 1150px;">
							<h:panelGrid columns="2">

								<h:panelGrid columns="1" class="mr-2 ">
									<h:outputLabel value="Descricao: " />
									<h:inputText id="inputDescricao"
										value="#{servicoController.servico.descricao}"
										styleClass="form-control form-control-lg pr-5 mr-5" />
								</h:panelGrid>

								<h:panelGrid columns="1" class="mr-2 ">
									<h:outputLabel value="Valor: " />
									<h:inputText id="inputValor"
										value="#{servicoController.servico.valor}"
										styleClass="form-control form-control-lg pr-5 mr-5" />
								</h:panelGrid>
							</h:panelGrid>
						</h:panelGrid>
						<h:panelGrid class="text-center" id="panelBotoes" columns="4"
							style="width: 530px;">
							<h:commandButton value="Incluir"
								disabled="#{servicoController.servico.id != null}"
								actionListener="#{servicoController.incluir()}"
								styleClass="btn btn-lg btn-block btn-login mt-4">
								<f:ajax render="formPrincipal" execute="panelPrincipal"
									resetValues="true" />
							</h:commandButton>

							<h:commandButton value="Alterar"
								disabled="#{servicoController.servico.id == null}"
								actionListener="#{servicoController.alterar()}">
								<f:ajax render="formPrincipal messages" execute="formPrincipal" />
							</h:commandButton>

							<h:commandButton value="Excluir"
								disabled="#{servicoController.servico.id == null}"
								actionListener="#{servicoController.excluir()}">
								<f:ajax render="@all" execute="@this" />
							</h:commandButton>

							<h:commandButton value="Limpar"
								action="#{servicoController.limpar()}">
								<f:ajax render="formPrincipal" execute="@this" />
							</h:commandButton>
						</h:panelGrid>
					</div>
					<div class="datatable-row">
						<h:panelGrid id="panelDataTable">
							<h:dataTable id="dataTable"
								value="#{servicoController.listaServico}" var="obj"
								styleClass="table" headerClass="table-header"
								rowClasses="table-odd-row, table-even-row">
								<h:column>
									<f:facet name="header">Id</f:facet>
									<h:outputLabel value="#{obj.id}" />
								</h:column>
								<h:column>
									<f:facet name="header">Descricao</f:facet>
									<h:commandLink value="#{obj.descricao}" style="color: black;"
										actionListener="#{servicoController.editar(obj)}">
										<f:ajax
											render="formPrincipal:panelPrincipal formPrincipal:panelBotoes"
											execute="formPrincipal:dataTable" />
									</h:commandLink>
								</h:column>
								<h:column>
									<f:facet name="header">Valor</f:facet>
									<h:outputLabel value="#{obj.valor}" />
								</h:column>
							</h:dataTable>
						</h:panelGrid>
					</div>
				</h:form>
			</div>
		</div>
	</div>
</h:body>

</html>